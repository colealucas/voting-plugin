document.addEventListener("DOMContentLoaded",()=>{const e=!0,o={voteButtonsWrapper:document.querySelector("[data-helpful-buttons-wrapper]"),voteButtons:document.querySelectorAll("[data-vp-helpful-button]"),voteStatusLabel:document.querySelector("[data-status-label]"),positivePercentage:document.querySelector("[data-positive-percentage]"),negativePercentage:document.querySelector("[data-negative-percentage]")};function a(t){e&&console.log(t)}function n(t){var e,n;return"yes"!==(t=(t=t||"").toLowerCase().trim())&&"no"!==t?a("Empty or invalid vote submited!"):article_voting_vars?(e=article_voting_vars.post_id,n=article_voting_vars.nonce,void fetch(article_voting_vars.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=submit_vote&post_id="+e+"&vote_value="+t+"&nonce="+n}).then(function(t){return t.json()}).then(function(t){var e,n;t&&(e=t.message,n=t.positive_votes,t=t.negative_votes,e)&&(o.voteStatusLabel&&(o.voteStatusLabel.innerHTML=e),o.positivePercentage)&&o.negativePercentage&&(o.positivePercentage.innerHTML=n+"%",o.negativePercentage.innerHTML=t+"%")}).catch(function(t){a(t)})):a("Missing localized article_voting_vars variable provided by the plugin.")}o.voteButtons.length&&o.voteButtons.forEach(function(t){t.onclick=function(t){t.preventDefault();t=this;t&&t.getAttribute("data-action")?(n(t.getAttribute("data-action")),t.classList.add("active"),o.voteButtonsWrapper&&o.voteButtonsWrapper.classList.add("voted")):a("Helpfull article button missing data-action attribute!")}})});